{"ast":null,"code":"var _jsxFileName = \"D:\\\\bearing_monitor\\\\frontend\\\\src\\\\components\\\\Dashboard.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Box, Container, Typography, Card, CardContent, Grid, Button, Chip, Paper, Alert, CircularProgress, Stack } from '@mui/material';\nimport { PlayArrow, Stop, Settings } from '@mui/icons-material';\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, BarElement, Title, Tooltip, Legend, Filler } from 'chart.js';\nimport { Line } from 'react-chartjs-2';\nimport axios from 'axios';\nimport { formatNumber, formatDateTime, getStatusColor } from '../utils/formatters';\n\n// Регистрация компонентов Chart.js\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, BarElement, Title, Tooltip, Legend, Filler);\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\n\n/**\r\n * Компонент Dashboard для мониторинга вибрации подшипников\r\n */\nconst Dashboard = () => {\n  _s();\n  const [monitoringStatus, setMonitoringStatus] = useState('stopped');\n  const [vibrationData, setVibrationData] = useState(null);\n  const [mlDiagnosis, setMlDiagnosis] = useState(null);\n  const [mlPrediction, setMlPrediction] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isLoadingML, setIsLoadingML] = useState(false);\n  const [error, setError] = useState(null);\n  const [mlError, setMlError] = useState(null);\n  const [mlDetailsOpen, setMlDetailsOpen] = useState(false);\n  const intervalRef = useRef(null);\n\n  // Симуляция данных вибрации (в реальном приложении данные приходят с бэкенда)\n  const generateMockData = () => {\n    const now = new Date();\n    const samples = 50;\n    const baseX = 0.1 + Math.random() * 0.1;\n    const baseY = 0.08 + Math.random() * 0.1;\n    const baseZ = 0.05 + Math.random() * 0.08;\n    return {\n      device_id: 'motor_001',\n      timestamp: now.toISOString(),\n      vibration_x: Array.from({\n        length: samples\n      }, () => baseX + (Math.random() - 0.5) * 0.05),\n      vibration_y: Array.from({\n        length: samples\n      }, () => baseY + (Math.random() - 0.5) * 0.05),\n      vibration_z: Array.from({\n        length: samples\n      }, () => baseZ + (Math.random() - 0.5) * 0.03),\n      sampling_rate: 1000,\n      temperature: 45 + Math.random() * 5\n    };\n  };\n\n  // Симуляция диагноза ML модели\n  const generateMLDiagnosis = data => {\n    const maxVibration = Math.max(...data.vibration_x, ...data.vibration_y, ...data.vibration_z);\n    if (maxVibration > 0.25) {\n      return {\n        status: 'critical',\n        message: 'Критическое состояние: обнаружена сильная вибрация. Требуется немедленное обслуживание.',\n        confidence: 0.95,\n        recommendations: ['Остановить оборудование', 'Провести визуальный осмотр подшипников', 'Вызвать специалиста по обслуживанию']\n      };\n    } else if (maxVibration > 0.18) {\n      return {\n        status: 'warning',\n        message: 'Предупреждение: повышенный уровень вибрации. Рекомендуется плановое обслуживание.',\n        confidence: 0.85,\n        recommendations: ['Усилить мониторинг', 'Запланировать обслуживание в ближайшее время']\n      };\n    } else {\n      return {\n        status: 'normal',\n        message: 'Нормальное состояние: вибрация в пределах допустимых значений.',\n        confidence: 0.92,\n        recommendations: ['Продолжить мониторинг']\n      };\n    }\n  };\n\n  // Загрузка ML предсказания\n  const fetchMLPrediction = async data => {\n    try {\n      setIsLoadingML(true);\n      setMlError(null);\n\n      // Формируем данные для запроса\n      const vibrationDataArray = [data.vibration_x, data.vibration_y, data.vibration_z];\n      const response = await axios.post(`${API_BASE_URL}/api/v1/predict`, {\n        vibration_data: vibrationDataArray,\n        temperature: data.temperature,\n        sampling_rate: data.sampling_rate\n      });\n      setMlPrediction(response.data);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      const errorMessage = ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.detail) || 'Ошибка при получении предсказания ML модели';\n      setMlError(errorMessage);\n      console.error('Ошибка ML предсказания:', err);\n      // Не сбрасываем mlPrediction, оставляем предыдущее значение\n    } finally {\n      setIsLoadingML(false);\n    }\n  };\n\n  // Загрузка данных вибрации\n  const fetchVibrationData = async () => {\n    try {\n      setIsLoading(true);\n      setError(null);\n\n      // Симуляция для демонстрации (можно заменить на реальный API)\n      const mockData = generateMockData();\n      setVibrationData(mockData);\n      setMlDiagnosis(generateMLDiagnosis(mockData));\n\n      // Отправка данных на сервер и получение ML предсказания\n      try {\n        const response = await axios.post(`${API_BASE_URL}/api/v1/vibration-data`, {\n          device_id: mockData.device_id,\n          timestamp: mockData.timestamp,\n          vibration_x: mockData.vibration_x,\n          vibration_y: mockData.vibration_y,\n          vibration_z: mockData.vibration_z,\n          sampling_rate: mockData.sampling_rate,\n          temperature: mockData.temperature\n        });\n\n        // Если в ответе есть ml_prediction, используем его\n        if (response.data.ml_prediction) {\n          setMlPrediction(response.data.ml_prediction);\n        } else {\n          // Иначе запрашиваем отдельно\n          await fetchMLPrediction(mockData);\n        }\n      } catch (apiErr) {\n        // Если API недоступен, используем симуляцию\n        console.warn('API недоступен, используется симуляция:', apiErr);\n        // Можно также вызвать fetchMLPrediction для отдельного запроса\n      }\n    } catch (err) {\n      setError('Ошибка при загрузке данных вибрации');\n      console.error(err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Ручное обновление ML диагностики\n  const handleRefreshMLDiagnosis = async () => {\n    if (vibrationData) {\n      await fetchMLPrediction(vibrationData);\n    }\n  };\n\n  // Управление мониторингом\n  const handleStartMonitoring = async () => {\n    try {\n      setMonitoringStatus('running');\n      setError(null);\n\n      // Запуск периодического обновления данных\n      intervalRef.current = setInterval(() => {\n        fetchVibrationData();\n      }, 2000); // Обновление каждые 2 секунды\n\n      // Первая загрузка данных\n      await fetchVibrationData();\n    } catch (err) {\n      setError('Ошибка при запуске мониторинга');\n      console.error(err);\n    }\n  };\n  const handleStopMonitoring = () => {\n    setMonitoringStatus('stopped');\n    if (intervalRef.current) {\n      clearInterval(intervalRef.current);\n      intervalRef.current = null;\n    }\n  };\n  const handleCalibration = async () => {\n    try {\n      setMonitoringStatus('calibrating');\n      setError(null);\n      setIsLoading(true);\n\n      // Симуляция калибровки\n      await new Promise(resolve => setTimeout(resolve, 2000));\n\n      // В реальном приложении здесь будет запрос к API\n      // await axios.post(`${API_BASE_URL}/api/v1/control`, {\n      //   device_id: 'motor_001',\n      //   action: 'reset'\n      // });\n\n      setMonitoringStatus('stopped');\n      alert('Калибровка завершена успешно');\n    } catch (err) {\n      setError('Ошибка при калибровке');\n      console.error(err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Очистка интервала при размонтировании\n  useEffect(() => {\n    return () => {\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current);\n      }\n    };\n  }, []);\n\n  // Подготовка данных для графика\n  const getChartData = () => {\n    if (!vibrationData) return null;\n    const timeLabels = vibrationData.vibration_x.map((_, index) => `${(index / vibrationData.sampling_rate * 1000).toFixed(0)} мс`);\n    return {\n      labels: timeLabels,\n      datasets: [{\n        label: 'Ось X',\n        data: vibrationData.vibration_x,\n        borderColor: 'rgb(255, 99, 132)',\n        backgroundColor: 'rgba(255, 99, 132, 0.1)',\n        tension: 0.4,\n        fill: true\n      }, {\n        label: 'Ось Y',\n        data: vibrationData.vibration_y,\n        borderColor: 'rgb(54, 162, 235)',\n        backgroundColor: 'rgba(54, 162, 235, 0.1)',\n        tension: 0.4,\n        fill: true\n      }, {\n        label: 'Ось Z',\n        data: vibrationData.vibration_z,\n        borderColor: 'rgb(75, 192, 192)',\n        backgroundColor: 'rgba(75, 192, 192, 0.1)',\n        tension: 0.4,\n        fill: true\n      }]\n    };\n  };\n  const chartOptions = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        position: 'top',\n        labels: {\n          font: {\n            size: 12\n          }\n        }\n      },\n      title: {\n        display: true,\n        text: 'График вибрации в реальном времени',\n        font: {\n          size: 16,\n          weight: 'bold'\n        }\n      },\n      tooltip: {\n        callbacks: {\n          label: context => {\n            return `${context.dataset.label}: ${formatNumber(context.parsed.y)} мм/с`;\n          }\n        }\n      }\n    },\n    scales: {\n      x: {\n        title: {\n          display: true,\n          text: 'Время, мс'\n        },\n        grid: {\n          color: 'rgba(0, 0, 0, 0.1)'\n        }\n      },\n      y: {\n        title: {\n          display: true,\n          text: 'Вибрация, мм/с'\n        },\n        grid: {\n          color: 'rgba(0, 0, 0, 0.1)'\n        },\n        ticks: {\n          callback: value => formatNumber(value)\n        }\n      }\n    }\n  };\n  const chartData = getChartData();\n\n  // Получение цвета для состояния на основе вероятности\n  const getStatusColorFromProbability = probability => {\n    if (probability > 0.9) return 'success';\n    if (probability >= 0.7) return 'warning';\n    return 'error';\n  };\n\n  // Получение цвета для индикатора\n  const getStatusIndicatorColor = probability => {\n    if (probability > 0.9) return '#4caf50'; // Зеленый\n    if (probability >= 0.7) return '#ff9800'; // Желтый/Оранжевый\n    return '#f44336'; // Красный\n  };\n\n  // Подготовка данных для гистограммы вероятностей\n  const getProbabilityChartData = () => {\n    if (!mlPrediction) return null;\n    const probabilities = mlPrediction.метрики.вероятности_классов;\n    const labels = Object.keys(probabilities);\n    const values = Object.values(probabilities);\n\n    // Цвета для каждого класса\n    const colors = labels.map(label => {\n      if (label === 'норма') return 'rgba(76, 175, 80, 0.8)';\n      if (label.includes('внутреннего')) return 'rgba(255, 152, 0, 0.8)';\n      if (label.includes('внешнего')) return 'rgba(255, 193, 7, 0.8)';\n      return 'rgba(244, 67, 54, 0.8)'; // Неисправность шарика\n    });\n    return {\n      labels,\n      datasets: [{\n        label: 'Вероятность (%)',\n        data: values,\n        backgroundColor: colors,\n        borderColor: colors.map(c => c.replace('0.8', '1')),\n        borderWidth: 2\n      }]\n    };\n  };\n  const probabilityChartData = getProbabilityChartData();\n  const probabilityChartOptions = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        display: false\n      },\n      title: {\n        display: true,\n        text: 'Вероятности классов',\n        font: {\n          size: 14,\n          weight: 'bold'\n        }\n      },\n      tooltip: {\n        callbacks: {\n          label: context => {\n            return `${context.label}: ${formatNumber(context.parsed.y)}%`;\n          }\n        }\n      }\n    },\n    scales: {\n      y: {\n        beginAtZero: true,\n        max: 100,\n        title: {\n          display: true,\n          text: 'Вероятность (%)'\n        },\n        ticks: {\n          callback: value => `${value}%`\n        }\n      },\n      x: {\n        title: {\n          display: true,\n          text: 'Состояние'\n        }\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"xl\",\n    sx: {\n      py: 4\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      component: \"h1\",\n      gutterBottom: true,\n      sx: {\n        mb: 4,\n        fontWeight: 'bold',\n        textAlign: 'center'\n      },\n      children: \"\\u041C\\u043E\\u043D\\u0438\\u0442\\u043E\\u0440\\u0438\\u043D\\u0433 \\u0441\\u043E\\u0441\\u0442\\u043E\\u044F\\u043D\\u0438\\u044F \\u043F\\u043E\\u0434\\u0448\\u0438\\u043F\\u043D\\u0438\\u043A\\u043E\\u0432\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 471,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mb: 3\n      },\n      onClose: () => setError(null),\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 482,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              children: \"\\u041F\\u0430\\u043D\\u0435\\u043B\\u044C \\u0443\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Stack, {\n              direction: \"row\",\n              spacing: 2,\n              flexWrap: \"wrap\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                variant: \"contained\",\n                color: \"success\",\n                startIcon: /*#__PURE__*/_jsxDEV(PlayArrow, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 499,\n                  columnNumber: 30\n                }, this),\n                onClick: handleStartMonitoring,\n                disabled: monitoringStatus === 'running' || isLoading,\n                children: \"\\u0421\\u0442\\u0430\\u0440\\u0442 \\u043C\\u043E\\u043D\\u0438\\u0442\\u043E\\u0440\\u0438\\u043D\\u0433\\u0430\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 496,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"contained\",\n                color: \"error\",\n                startIcon: /*#__PURE__*/_jsxDEV(Stop, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 508,\n                  columnNumber: 30\n                }, this),\n                onClick: handleStopMonitoring,\n                disabled: monitoringStatus === 'stopped' || isLoading,\n                children: \"\\u0421\\u0442\\u043E\\u043F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 505,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"contained\",\n                color: \"primary\",\n                startIcon: /*#__PURE__*/_jsxDEV(Settings, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 517,\n                  columnNumber: 30\n                }, this),\n                onClick: handleCalibration,\n                disabled: monitoringStatus === 'running' || isLoading,\n                children: \"\\u041A\\u0430\\u043B\\u0438\\u0431\\u0440\\u043E\\u0432\\u043A\\u0430\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 514,\n                columnNumber: 17\n              }, this), isLoading && /*#__PURE__*/_jsxDEV(CircularProgress, {\n                size: 24\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 523,\n                columnNumber: 31\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 15\n            }, this), monitoringStatus === 'running' && /*#__PURE__*/_jsxDEV(Chip, {\n              label: \"\\u041C\\u043E\\u043D\\u0438\\u0442\\u043E\\u0440\\u0438\\u043D\\u0433 \\u0430\\u043A\\u0442\\u0438\\u0432\\u0435\\u043D\",\n              color: \"success\",\n              sx: {\n                mt: 2\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 526,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 491,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 490,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 489,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 4,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              children: \"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441 \\u0441\\u0438\\u0441\\u0442\\u0435\\u043C\\u044B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 540,\n              columnNumber: 15\n            }, this), vibrationData ? /*#__PURE__*/_jsxDEV(Box, {\n              children: /*#__PURE__*/_jsxDEV(Stack, {\n                spacing: 2,\n                children: [/*#__PURE__*/_jsxDEV(Box, {\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    color: \"text.secondary\",\n                    children: \"\\u0423\\u0441\\u0442\\u0440\\u043E\\u0439\\u0441\\u0442\\u0432\\u043E\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 547,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body1\",\n                    fontWeight: \"bold\",\n                    children: vibrationData.device_id\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 550,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 546,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Box, {\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    color: \"text.secondary\",\n                    children: \"\\u041F\\u043E\\u0441\\u043B\\u0435\\u0434\\u043D\\u0435\\u0435 \\u043E\\u0431\\u043D\\u043E\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 555,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body1\",\n                    children: formatDateTime(vibrationData.timestamp)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 558,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 554,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Box, {\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    color: \"text.secondary\",\n                    children: \"\\u0422\\u0435\\u043C\\u043F\\u0435\\u0440\\u0430\\u0442\\u0443\\u0440\\u0430\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 563,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body1\",\n                    fontWeight: \"bold\",\n                    children: [formatNumber(vibrationData.temperature), \" \\xB0C\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 566,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 562,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Box, {\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    color: \"text.secondary\",\n                    children: \"\\u0427\\u0430\\u0441\\u0442\\u043E\\u0442\\u0430 \\u0434\\u0438\\u0441\\u043A\\u0440\\u0435\\u0442\\u0438\\u0437\\u0430\\u0446\\u0438\\u0438\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 571,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body1\",\n                    children: [formatNumber(vibrationData.sampling_rate), \" \\u0413\\u0446\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 574,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 570,\n                  columnNumber: 21\n                }, this), mlDiagnosis && /*#__PURE__*/_jsxDEV(Box, {\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    color: \"text.secondary\",\n                    gutterBottom: true,\n                    children: \"\\u0414\\u0438\\u0430\\u0433\\u043D\\u043E\\u0437 ML \\u043C\\u043E\\u0434\\u0435\\u043B\\u0438\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 580,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                    label: mlDiagnosis.status === 'normal' ? 'Норма' : mlDiagnosis.status === 'warning' ? 'Предупреждение' : 'Критично',\n                    color: getStatusColor(mlDiagnosis.status),\n                    sx: {\n                      mb: 1\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 583,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Alert, {\n                    severity: mlDiagnosis.status === 'normal' ? 'success' : mlDiagnosis.status === 'warning' ? 'warning' : 'error',\n                    sx: {\n                      mt: 1\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"body2\",\n                      children: mlDiagnosis.message\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 594,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"caption\",\n                      display: \"block\",\n                      sx: {\n                        mt: 1\n                      },\n                      children: [\"\\u0423\\u0432\\u0435\\u0440\\u0435\\u043D\\u043D\\u043E\\u0441\\u0442\\u044C: \", formatNumber(mlDiagnosis.confidence * 100), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 597,\n                      columnNumber: 27\n                    }, this), mlDiagnosis.recommendations && mlDiagnosis.recommendations.length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n                      sx: {\n                        mt: 1\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"caption\",\n                        fontWeight: \"bold\",\n                        children: \"\\u0420\\u0435\\u043A\\u043E\\u043C\\u0435\\u043D\\u0434\\u0430\\u0446\\u0438\\u0438:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 602,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                        style: {\n                          margin: '4px 0',\n                          paddingLeft: '20px'\n                        },\n                        children: mlDiagnosis.recommendations.map((rec, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n                          children: /*#__PURE__*/_jsxDEV(Typography, {\n                            variant: \"caption\",\n                            children: rec\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 608,\n                            columnNumber: 37\n                          }, this)\n                        }, idx, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 607,\n                          columnNumber: 35\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 605,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 601,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 589,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 579,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 545,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 544,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              children: \"\\u0414\\u0430\\u043D\\u043D\\u044B\\u0435 \\u043D\\u0435 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0436\\u0435\\u043D\\u044B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 620,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 539,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 538,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 8,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                height: 400\n              },\n              children: chartData ? /*#__PURE__*/_jsxDEV(Line, {\n                data: chartData,\n                options: chartOptions\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 634,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  height: '100%',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center'\n                },\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body1\",\n                  color: \"text.secondary\",\n                  children: \"\\u0417\\u0430\\u043F\\u0443\\u0441\\u0442\\u0438\\u0442\\u0435 \\u043C\\u043E\\u043D\\u0438\\u0442\\u043E\\u0440\\u0438\\u043D\\u0433 \\u0434\\u043B\\u044F \\u043E\\u0442\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u044F \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 644,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 636,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 632,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 631,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 630,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 629,\n        columnNumber: 9\n      }, this), vibrationData && /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              children: \"\\u0421\\u0442\\u0430\\u0442\\u0438\\u0441\\u0442\\u0438\\u043A\\u0430 \\u0432\\u0438\\u0431\\u0440\\u0430\\u0446\\u0438\\u0438\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 659,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              spacing: 3,\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 4,\n                children: /*#__PURE__*/_jsxDEV(Paper, {\n                  sx: {\n                    p: 2,\n                    textAlign: 'center'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    color: \"text.secondary\",\n                    children: \"\\u041C\\u0430\\u043A\\u0441\\u0438\\u043C\\u0443\\u043C \\u043F\\u043E \\u043E\\u0441\\u0438 X\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 665,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h6\",\n                    color: \"error\",\n                    children: [formatNumber(Math.max(...vibrationData.vibration_x)), \" \\u043C\\u043C/\\u0441\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 668,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 664,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 663,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 4,\n                children: /*#__PURE__*/_jsxDEV(Paper, {\n                  sx: {\n                    p: 2,\n                    textAlign: 'center'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    color: \"text.secondary\",\n                    children: \"\\u041C\\u0430\\u043A\\u0441\\u0438\\u043C\\u0443\\u043C \\u043F\\u043E \\u043E\\u0441\\u0438 Y\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 675,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h6\",\n                    color: \"error\",\n                    children: [formatNumber(Math.max(...vibrationData.vibration_y)), \" \\u043C\\u043C/\\u0441\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 678,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 674,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 673,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 4,\n                children: /*#__PURE__*/_jsxDEV(Paper, {\n                  sx: {\n                    p: 2,\n                    textAlign: 'center'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    color: \"text.secondary\",\n                    children: \"\\u041C\\u0430\\u043A\\u0441\\u0438\\u043C\\u0443\\u043C \\u043F\\u043E \\u043E\\u0441\\u0438 Z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 685,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h6\",\n                    color: \"error\",\n                    children: [formatNumber(Math.max(...vibrationData.vibration_z)), \" \\u043C\\u043C/\\u0441\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 688,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 684,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 683,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 662,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 658,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 657,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 656,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 487,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 469,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"ImLpl+GrUZq0TQ1nVPpIIxi4fUQ=\");\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Box","Container","Typography","Card","CardContent","Grid","Button","Chip","Paper","Alert","CircularProgress","Stack","PlayArrow","Stop","Settings","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","BarElement","Title","Tooltip","Legend","Filler","Line","axios","formatNumber","formatDateTime","getStatusColor","jsxDEV","_jsxDEV","register","API_BASE_URL","process","env","REACT_APP_API_URL","Dashboard","_s","monitoringStatus","setMonitoringStatus","vibrationData","setVibrationData","mlDiagnosis","setMlDiagnosis","mlPrediction","setMlPrediction","isLoading","setIsLoading","isLoadingML","setIsLoadingML","error","setError","mlError","setMlError","mlDetailsOpen","setMlDetailsOpen","intervalRef","generateMockData","now","Date","samples","baseX","Math","random","baseY","baseZ","device_id","timestamp","toISOString","vibration_x","Array","from","length","vibration_y","vibration_z","sampling_rate","temperature","generateMLDiagnosis","data","maxVibration","max","status","message","confidence","recommendations","fetchMLPrediction","vibrationDataArray","response","post","vibration_data","err","_err$response","_err$response$data","errorMessage","detail","console","fetchVibrationData","mockData","ml_prediction","apiErr","warn","handleRefreshMLDiagnosis","handleStartMonitoring","current","setInterval","handleStopMonitoring","clearInterval","handleCalibration","Promise","resolve","setTimeout","alert","getChartData","timeLabels","map","_","index","toFixed","labels","datasets","label","borderColor","backgroundColor","tension","fill","chartOptions","responsive","maintainAspectRatio","plugins","legend","position","font","size","title","display","text","weight","tooltip","callbacks","context","dataset","parsed","y","scales","x","grid","color","ticks","callback","value","chartData","getStatusColorFromProbability","probability","getStatusIndicatorColor","getProbabilityChartData","probabilities","метрики","вероятности_классов","Object","keys","values","colors","includes","c","replace","borderWidth","probabilityChartData","probabilityChartOptions","beginAtZero","maxWidth","sx","py","children","variant","component","gutterBottom","mb","fontWeight","textAlign","fileName","_jsxFileName","lineNumber","columnNumber","severity","onClose","container","spacing","item","xs","direction","flexWrap","startIcon","onClick","disabled","mt","md","style","margin","paddingLeft","rec","idx","height","options","alignItems","justifyContent","sm","p","_c","$RefreshReg$"],"sources":["D:/bearing_monitor/frontend/src/components/Dashboard.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport {\r\n  Box,\r\n  Container,\r\n  Typography,\r\n  Card,\r\n  CardContent,\r\n  Grid,\r\n  Button,\r\n  Chip,\r\n  Paper,\r\n  Alert,\r\n  CircularProgress,\r\n  Stack,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  Divider,\r\n  LinearProgress\r\n} from '@mui/material';\r\nimport {\r\n  PlayArrow,\r\n  Stop,\r\n  Settings,\r\n  Refresh,\r\n  Info\r\n} from '@mui/icons-material';\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  Filler\r\n} from 'chart.js';\r\nimport { Line, Bar } from 'react-chartjs-2';\r\nimport axios from 'axios';\r\nimport { VibrationData, MLDiagnosis, MonitoringStatus, MLPrediction } from '../types/vibration';\r\nimport { formatNumber, formatDateTime, getStatusColor } from '../utils/formatters';\r\n\r\n// Регистрация компонентов Chart.js\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  Filler\r\n);\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\r\n\r\n/**\r\n * Компонент Dashboard для мониторинга вибрации подшипников\r\n */\r\nconst Dashboard: React.FC = () => {\r\n  const [monitoringStatus, setMonitoringStatus] = useState<MonitoringStatus>('stopped');\r\n  const [vibrationData, setVibrationData] = useState<VibrationData | null>(null);\r\n  const [mlDiagnosis, setMlDiagnosis] = useState<MLDiagnosis | null>(null);\r\n  const [mlPrediction, setMlPrediction] = useState<MLPrediction | null>(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isLoadingML, setIsLoadingML] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [mlError, setMlError] = useState<string | null>(null);\r\n  const [mlDetailsOpen, setMlDetailsOpen] = useState(false);\r\n  const intervalRef = useRef<NodeJS.Timeout | null>(null);\r\n\r\n  // Симуляция данных вибрации (в реальном приложении данные приходят с бэкенда)\r\n  const generateMockData = (): VibrationData => {\r\n    const now = new Date();\r\n    const samples = 50;\r\n    const baseX = 0.1 + Math.random() * 0.1;\r\n    const baseY = 0.08 + Math.random() * 0.1;\r\n    const baseZ = 0.05 + Math.random() * 0.08;\r\n\r\n    return {\r\n      device_id: 'motor_001',\r\n      timestamp: now.toISOString(),\r\n      vibration_x: Array.from({ length: samples }, () => baseX + (Math.random() - 0.5) * 0.05),\r\n      vibration_y: Array.from({ length: samples }, () => baseY + (Math.random() - 0.5) * 0.05),\r\n      vibration_z: Array.from({ length: samples }, () => baseZ + (Math.random() - 0.5) * 0.03),\r\n      sampling_rate: 1000,\r\n      temperature: 45 + Math.random() * 5\r\n    };\r\n  };\r\n\r\n  // Симуляция диагноза ML модели\r\n  const generateMLDiagnosis = (data: VibrationData): MLDiagnosis => {\r\n    const maxVibration = Math.max(\r\n      ...data.vibration_x,\r\n      ...data.vibration_y,\r\n      ...data.vibration_z\r\n    );\r\n\r\n    if (maxVibration > 0.25) {\r\n      return {\r\n        status: 'critical',\r\n        message: 'Критическое состояние: обнаружена сильная вибрация. Требуется немедленное обслуживание.',\r\n        confidence: 0.95,\r\n        recommendations: [\r\n          'Остановить оборудование',\r\n          'Провести визуальный осмотр подшипников',\r\n          'Вызвать специалиста по обслуживанию'\r\n        ]\r\n      };\r\n    } else if (maxVibration > 0.18) {\r\n      return {\r\n        status: 'warning',\r\n        message: 'Предупреждение: повышенный уровень вибрации. Рекомендуется плановое обслуживание.',\r\n        confidence: 0.85,\r\n        recommendations: [\r\n          'Усилить мониторинг',\r\n          'Запланировать обслуживание в ближайшее время'\r\n        ]\r\n      };\r\n    } else {\r\n      return {\r\n        status: 'normal',\r\n        message: 'Нормальное состояние: вибрация в пределах допустимых значений.',\r\n        confidence: 0.92,\r\n        recommendations: ['Продолжить мониторинг']\r\n      };\r\n    }\r\n  };\r\n\r\n  // Загрузка ML предсказания\r\n  const fetchMLPrediction = async (data: VibrationData) => {\r\n    try {\r\n      setIsLoadingML(true);\r\n      setMlError(null);\r\n\r\n      // Формируем данные для запроса\r\n      const vibrationDataArray = [\r\n        data.vibration_x,\r\n        data.vibration_y,\r\n        data.vibration_z\r\n      ];\r\n\r\n      const response = await axios.post<MLPrediction>(\r\n        `${API_BASE_URL}/api/v1/predict`,\r\n        {\r\n          vibration_data: vibrationDataArray,\r\n          temperature: data.temperature,\r\n          sampling_rate: data.sampling_rate\r\n        }\r\n      );\r\n\r\n      setMlPrediction(response.data);\r\n    } catch (err: any) {\r\n      const errorMessage = err.response?.data?.detail || 'Ошибка при получении предсказания ML модели';\r\n      setMlError(errorMessage);\r\n      console.error('Ошибка ML предсказания:', err);\r\n      // Не сбрасываем mlPrediction, оставляем предыдущее значение\r\n    } finally {\r\n      setIsLoadingML(false);\r\n    }\r\n  };\r\n\r\n  // Загрузка данных вибрации\r\n  const fetchVibrationData = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      setError(null);\r\n\r\n      // Симуляция для демонстрации (можно заменить на реальный API)\r\n      const mockData = generateMockData();\r\n      setVibrationData(mockData);\r\n      setMlDiagnosis(generateMLDiagnosis(mockData));\r\n\r\n      // Отправка данных на сервер и получение ML предсказания\r\n      try {\r\n        const response = await axios.post(\r\n          `${API_BASE_URL}/api/v1/vibration-data`,\r\n          {\r\n            device_id: mockData.device_id,\r\n            timestamp: mockData.timestamp,\r\n            vibration_x: mockData.vibration_x,\r\n            vibration_y: mockData.vibration_y,\r\n            vibration_z: mockData.vibration_z,\r\n            sampling_rate: mockData.sampling_rate,\r\n            temperature: mockData.temperature\r\n          }\r\n        );\r\n\r\n        // Если в ответе есть ml_prediction, используем его\r\n        if (response.data.ml_prediction) {\r\n          setMlPrediction(response.data.ml_prediction);\r\n        } else {\r\n          // Иначе запрашиваем отдельно\r\n          await fetchMLPrediction(mockData);\r\n        }\r\n      } catch (apiErr) {\r\n        // Если API недоступен, используем симуляцию\r\n        console.warn('API недоступен, используется симуляция:', apiErr);\r\n        // Можно также вызвать fetchMLPrediction для отдельного запроса\r\n      }\r\n    } catch (err) {\r\n      setError('Ошибка при загрузке данных вибрации');\r\n      console.error(err);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Ручное обновление ML диагностики\r\n  const handleRefreshMLDiagnosis = async () => {\r\n    if (vibrationData) {\r\n      await fetchMLPrediction(vibrationData);\r\n    }\r\n  };\r\n\r\n  // Управление мониторингом\r\n  const handleStartMonitoring = async () => {\r\n    try {\r\n      setMonitoringStatus('running');\r\n      setError(null);\r\n\r\n      // Запуск периодического обновления данных\r\n      intervalRef.current = setInterval(() => {\r\n        fetchVibrationData();\r\n      }, 2000); // Обновление каждые 2 секунды\r\n\r\n      // Первая загрузка данных\r\n      await fetchVibrationData();\r\n    } catch (err) {\r\n      setError('Ошибка при запуске мониторинга');\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const handleStopMonitoring = () => {\r\n    setMonitoringStatus('stopped');\r\n    if (intervalRef.current) {\r\n      clearInterval(intervalRef.current);\r\n      intervalRef.current = null;\r\n    }\r\n  };\r\n\r\n  const handleCalibration = async () => {\r\n    try {\r\n      setMonitoringStatus('calibrating');\r\n      setError(null);\r\n      setIsLoading(true);\r\n\r\n      // Симуляция калибровки\r\n      await new Promise(resolve => setTimeout(resolve, 2000));\r\n\r\n      // В реальном приложении здесь будет запрос к API\r\n      // await axios.post(`${API_BASE_URL}/api/v1/control`, {\r\n      //   device_id: 'motor_001',\r\n      //   action: 'reset'\r\n      // });\r\n\r\n      setMonitoringStatus('stopped');\r\n      alert('Калибровка завершена успешно');\r\n    } catch (err) {\r\n      setError('Ошибка при калибровке');\r\n      console.error(err);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Очистка интервала при размонтировании\r\n  useEffect(() => {\r\n    return () => {\r\n      if (intervalRef.current) {\r\n        clearInterval(intervalRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // Подготовка данных для графика\r\n  const getChartData = () => {\r\n    if (!vibrationData) return null;\r\n\r\n    const timeLabels = vibrationData.vibration_x.map((_, index) => \r\n      `${(index / vibrationData.sampling_rate * 1000).toFixed(0)} мс`\r\n    );\r\n\r\n    return {\r\n      labels: timeLabels,\r\n      datasets: [\r\n        {\r\n          label: 'Ось X',\r\n          data: vibrationData.vibration_x,\r\n          borderColor: 'rgb(255, 99, 132)',\r\n          backgroundColor: 'rgba(255, 99, 132, 0.1)',\r\n          tension: 0.4,\r\n          fill: true\r\n        },\r\n        {\r\n          label: 'Ось Y',\r\n          data: vibrationData.vibration_y,\r\n          borderColor: 'rgb(54, 162, 235)',\r\n          backgroundColor: 'rgba(54, 162, 235, 0.1)',\r\n          tension: 0.4,\r\n          fill: true\r\n        },\r\n        {\r\n          label: 'Ось Z',\r\n          data: vibrationData.vibration_z,\r\n          borderColor: 'rgb(75, 192, 192)',\r\n          backgroundColor: 'rgba(75, 192, 192, 0.1)',\r\n          tension: 0.4,\r\n          fill: true\r\n        }\r\n      ]\r\n    };\r\n  };\r\n\r\n  const chartOptions = {\r\n    responsive: true,\r\n    maintainAspectRatio: false,\r\n    plugins: {\r\n      legend: {\r\n        position: 'top' as const,\r\n        labels: {\r\n          font: {\r\n            size: 12\r\n          }\r\n        }\r\n      },\r\n      title: {\r\n        display: true,\r\n        text: 'График вибрации в реальном времени',\r\n        font: {\r\n          size: 16,\r\n          weight: 'bold' as const\r\n        }\r\n      },\r\n      tooltip: {\r\n        callbacks: {\r\n          label: (context: any) => {\r\n            return `${context.dataset.label}: ${formatNumber(context.parsed.y)} мм/с`;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    scales: {\r\n      x: {\r\n        title: {\r\n          display: true,\r\n          text: 'Время, мс'\r\n        },\r\n        grid: {\r\n          color: 'rgba(0, 0, 0, 0.1)'\r\n        }\r\n      },\r\n      y: {\r\n        title: {\r\n          display: true,\r\n          text: 'Вибрация, мм/с'\r\n        },\r\n        grid: {\r\n          color: 'rgba(0, 0, 0, 0.1)'\r\n        },\r\n        ticks: {\r\n          callback: (value: any) => formatNumber(value)\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const chartData = getChartData();\r\n\r\n  // Получение цвета для состояния на основе вероятности\r\n  const getStatusColorFromProbability = (probability: number): 'success' | 'warning' | 'error' => {\r\n    if (probability > 0.9) return 'success';\r\n    if (probability >= 0.7) return 'warning';\r\n    return 'error';\r\n  };\r\n\r\n  // Получение цвета для индикатора\r\n  const getStatusIndicatorColor = (probability: number): string => {\r\n    if (probability > 0.9) return '#4caf50'; // Зеленый\r\n    if (probability >= 0.7) return '#ff9800'; // Желтый/Оранжевый\r\n    return '#f44336'; // Красный\r\n  };\r\n\r\n  // Подготовка данных для гистограммы вероятностей\r\n  const getProbabilityChartData = () => {\r\n    if (!mlPrediction) return null;\r\n\r\n    const probabilities = mlPrediction.метрики.вероятности_классов;\r\n    const labels = Object.keys(probabilities);\r\n    const values = Object.values(probabilities);\r\n\r\n    // Цвета для каждого класса\r\n    const colors = labels.map(label => {\r\n      if (label === 'норма') return 'rgba(76, 175, 80, 0.8)';\r\n      if (label.includes('внутреннего')) return 'rgba(255, 152, 0, 0.8)';\r\n      if (label.includes('внешнего')) return 'rgba(255, 193, 7, 0.8)';\r\n      return 'rgba(244, 67, 54, 0.8)'; // Неисправность шарика\r\n    });\r\n\r\n    return {\r\n      labels,\r\n      datasets: [\r\n        {\r\n          label: 'Вероятность (%)',\r\n          data: values,\r\n          backgroundColor: colors,\r\n          borderColor: colors.map(c => c.replace('0.8', '1')),\r\n          borderWidth: 2\r\n        }\r\n      ]\r\n    };\r\n  };\r\n\r\n  const probabilityChartData = getProbabilityChartData();\r\n\r\n  const probabilityChartOptions = {\r\n    responsive: true,\r\n    maintainAspectRatio: false,\r\n    plugins: {\r\n      legend: {\r\n        display: false\r\n      },\r\n      title: {\r\n        display: true,\r\n        text: 'Вероятности классов',\r\n        font: {\r\n          size: 14,\r\n          weight: 'bold' as const\r\n        }\r\n      },\r\n      tooltip: {\r\n        callbacks: {\r\n          label: (context: any) => {\r\n            return `${context.label}: ${formatNumber(context.parsed.y)}%`;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    scales: {\r\n      y: {\r\n        beginAtZero: true,\r\n        max: 100,\r\n        title: {\r\n          display: true,\r\n          text: 'Вероятность (%)'\r\n        },\r\n        ticks: {\r\n          callback: (value: any) => `${value}%`\r\n        }\r\n      },\r\n      x: {\r\n        title: {\r\n          display: true,\r\n          text: 'Состояние'\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"xl\" sx={{ py: 4 }}>\r\n      {/* Заголовок */}\r\n      <Typography\r\n        variant=\"h4\"\r\n        component=\"h1\"\r\n        gutterBottom\r\n        sx={{ mb: 4, fontWeight: 'bold', textAlign: 'center' }}\r\n      >\r\n        Мониторинг состояния подшипников\r\n      </Typography>\r\n\r\n      {/* Сообщения об ошибках */}\r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mb: 3 }} onClose={() => setError(null)}>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n\r\n      <Grid container spacing={3}>\r\n        {/* Панель управления */}\r\n        <Grid item xs={12}>\r\n          <Card>\r\n            <CardContent>\r\n              <Typography variant=\"h6\" gutterBottom>\r\n                Панель управления\r\n              </Typography>\r\n              <Stack direction=\"row\" spacing={2} flexWrap=\"wrap\">\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"success\"\r\n                  startIcon={<PlayArrow />}\r\n                  onClick={handleStartMonitoring}\r\n                  disabled={monitoringStatus === 'running' || isLoading}\r\n                >\r\n                  Старт мониторинга\r\n                </Button>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"error\"\r\n                  startIcon={<Stop />}\r\n                  onClick={handleStopMonitoring}\r\n                  disabled={monitoringStatus === 'stopped' || isLoading}\r\n                >\r\n                  Стоп\r\n                </Button>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  startIcon={<Settings />}\r\n                  onClick={handleCalibration}\r\n                  disabled={monitoringStatus === 'running' || isLoading}\r\n                >\r\n                  Калибровка\r\n                </Button>\r\n                {isLoading && <CircularProgress size={24} />}\r\n              </Stack>\r\n              {monitoringStatus === 'running' && (\r\n                <Chip\r\n                  label=\"Мониторинг активен\"\r\n                  color=\"success\"\r\n                  sx={{ mt: 2 }}\r\n                />\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n\r\n        {/* Карточка статуса */}\r\n        <Grid item xs={12} md={4}>\r\n          <Card>\r\n            <CardContent>\r\n              <Typography variant=\"h6\" gutterBottom>\r\n                Статус системы\r\n              </Typography>\r\n              {vibrationData ? (\r\n                <Box>\r\n                  <Stack spacing={2}>\r\n                    <Box>\r\n                      <Typography variant=\"body2\" color=\"text.secondary\">\r\n                        Устройство\r\n                      </Typography>\r\n                      <Typography variant=\"body1\" fontWeight=\"bold\">\r\n                        {vibrationData.device_id}\r\n                      </Typography>\r\n                    </Box>\r\n                    <Box>\r\n                      <Typography variant=\"body2\" color=\"text.secondary\">\r\n                        Последнее обновление\r\n                      </Typography>\r\n                      <Typography variant=\"body1\">\r\n                        {formatDateTime(vibrationData.timestamp)}\r\n                      </Typography>\r\n                    </Box>\r\n                    <Box>\r\n                      <Typography variant=\"body2\" color=\"text.secondary\">\r\n                        Температура\r\n                      </Typography>\r\n                      <Typography variant=\"body1\" fontWeight=\"bold\">\r\n                        {formatNumber(vibrationData.temperature)} °C\r\n                      </Typography>\r\n                    </Box>\r\n                    <Box>\r\n                      <Typography variant=\"body2\" color=\"text.secondary\">\r\n                        Частота дискретизации\r\n                      </Typography>\r\n                      <Typography variant=\"body1\">\r\n                        {formatNumber(vibrationData.sampling_rate)} Гц\r\n                      </Typography>\r\n                    </Box>\r\n                    {mlDiagnosis && (\r\n                      <Box>\r\n                        <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\r\n                          Диагноз ML модели\r\n                        </Typography>\r\n                        <Chip\r\n                          label={mlDiagnosis.status === 'normal' ? 'Норма' : \r\n                                 mlDiagnosis.status === 'warning' ? 'Предупреждение' : 'Критично'}\r\n                          color={getStatusColor(mlDiagnosis.status)}\r\n                          sx={{ mb: 1 }}\r\n                        />\r\n                        <Alert \r\n                          severity={mlDiagnosis.status === 'normal' ? 'success' : \r\n                                   mlDiagnosis.status === 'warning' ? 'warning' : 'error'}\r\n                          sx={{ mt: 1 }}\r\n                        >\r\n                          <Typography variant=\"body2\">\r\n                            {mlDiagnosis.message}\r\n                          </Typography>\r\n                          <Typography variant=\"caption\" display=\"block\" sx={{ mt: 1 }}>\r\n                            Уверенность: {formatNumber(mlDiagnosis.confidence * 100)}%\r\n                          </Typography>\r\n                          {mlDiagnosis.recommendations && mlDiagnosis.recommendations.length > 0 && (\r\n                            <Box sx={{ mt: 1 }}>\r\n                              <Typography variant=\"caption\" fontWeight=\"bold\">\r\n                                Рекомендации:\r\n                              </Typography>\r\n                              <ul style={{ margin: '4px 0', paddingLeft: '20px' }}>\r\n                                {mlDiagnosis.recommendations.map((rec, idx) => (\r\n                                  <li key={idx}>\r\n                                    <Typography variant=\"caption\">{rec}</Typography>\r\n                                  </li>\r\n                                ))}\r\n                              </ul>\r\n                            </Box>\r\n                          )}\r\n                        </Alert>\r\n                      </Box>\r\n                    )}\r\n                  </Stack>\r\n                </Box>\r\n              ) : (\r\n                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                  Данные не загружены\r\n                </Typography>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n\r\n        {/* График вибрации */}\r\n        <Grid item xs={12} md={8}>\r\n          <Card>\r\n            <CardContent>\r\n              <Box sx={{ height: 400 }}>\r\n                {chartData ? (\r\n                  <Line data={chartData} options={chartOptions} />\r\n                ) : (\r\n                  <Box\r\n                    sx={{\r\n                      height: '100%',\r\n                      display: 'flex',\r\n                      alignItems: 'center',\r\n                      justifyContent: 'center'\r\n                    }}\r\n                  >\r\n                    <Typography variant=\"body1\" color=\"text.secondary\">\r\n                      Запустите мониторинг для отображения данных\r\n                    </Typography>\r\n                  </Box>\r\n                )}\r\n              </Box>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n\r\n        {/* Статистика вибрации */}\r\n        {vibrationData && (\r\n          <Grid item xs={12}>\r\n            <Card>\r\n              <CardContent>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  Статистика вибрации\r\n                </Typography>\r\n                <Grid container spacing={3}>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <Paper sx={{ p: 2, textAlign: 'center' }}>\r\n                      <Typography variant=\"body2\" color=\"text.secondary\">\r\n                        Максимум по оси X\r\n                      </Typography>\r\n                      <Typography variant=\"h6\" color=\"error\">\r\n                        {formatNumber(Math.max(...vibrationData.vibration_x))} мм/с\r\n                      </Typography>\r\n                    </Paper>\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <Paper sx={{ p: 2, textAlign: 'center' }}>\r\n                      <Typography variant=\"body2\" color=\"text.secondary\">\r\n                        Максимум по оси Y\r\n                      </Typography>\r\n                      <Typography variant=\"h6\" color=\"error\">\r\n                        {formatNumber(Math.max(...vibrationData.vibration_y))} мм/с\r\n                      </Typography>\r\n                    </Paper>\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <Paper sx={{ p: 2, textAlign: 'center' }}>\r\n                      <Typography variant=\"body2\" color=\"text.secondary\">\r\n                        Максимум по оси Z\r\n                      </Typography>\r\n                      <Typography variant=\"h6\" color=\"error\">\r\n                        {formatNumber(Math.max(...vibrationData.vibration_z))} мм/с\r\n                      </Typography>\r\n                    </Paper>\r\n                  </Grid>\r\n                </Grid>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n        )}\r\n      </Grid>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}